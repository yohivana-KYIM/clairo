{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
<header>
    <div class="container-fluid fixed-top bg-cleo p-2 ps-4 text-center d-flex flex-wrap border-bottom border-bottom-dark shadow-sm">
        <img class="" src="{{ asset('/img/logo.png') }}" alt="" width="120" height="60">
    </div>
</header>
<body class="overflow-x-hidden">
    <div class="container-fluid d-flex justify-content-center align-items-center">
        <div class="container">
            <div class="border border-dark-subtle info-form rounded-top">
                <div class="col-12 bg-cleo rounded-top p-0 m-0 h5">
                    <p class="p-3">{{ user.email }}</p>
                </div>
                <div class="col-12 p-3">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th>Roles</th>
                                <td>
                                    {% if user.roles is not empty %}
                                        {% for roles in user.roles %}
                                            {{ roles|trans }}
                                            {% if not loop.last %}/ {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        Aucun rôle
                                    {% endif %}
                                </td>

                            </tr>
                            <tr>
                                <th>Méthodes de connexion multifacteurs</th>
                                <td>
                                    {% if user.mfaStrategies is not empty %}
                                        {{ user.mfaStrategies|join(' / ') }}
                                    {% else %}
                                        Aucun
                                    {% endif %}
                                </td>

                            </tr>
                            <tr>
                                <th>Verifié</th>
                                <td>{{ user.isVerified ? 'Oui' : 'Non' }}</td>
                            </tr>
                            <tr>
                                <th>Verifié par le referent sécurité</th>
                                <td>{{ user.isVerified ? 'Oui' : 'Non' }}</td>
                            </tr>
                            <tr>
                                <th>Date de création</th>
                                <td class="date">{{ user.createdAt ? user.createdAt|date_in_french : 'NULL' }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="row mt-4">
                        <div class="col-12 p-0 d-flex justify-content-around">
                            <a class="btn btn-danger btn-lg me-3" href="{{ path('app_user_index') }}">
                                <img alt="" src="{{ asset('css/icons/arrow-left-short.svg') }}" width="32" height="32" />
                                Retour
                            </a>
                            <a class="btn btn-lg btn-cleo" href="{{ path('app_user_edit', {'id': user.id}) }}">Modifier</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>


    <script src="js/fr.min.js"></script>
    {# {{ include('admin/user/_delete_form.html.twig') }} #}
{% endblock %}
